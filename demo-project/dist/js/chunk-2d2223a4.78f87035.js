(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2223a4"],{ce5a:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped mt-4"},[t._m(0),a("tbody",t._l(t.storages,(function(e){return a("tr",{key:e.id},[a("th",{attrs:{scope:"row"}},[t._v("1")]),a("td",[a("div",{staticStyle:{height:"100px",width:"100px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.path+")"}})]),a("td",[a("button",{staticClass:"btn btn-outline-danger",on:{click:function(a){return a.preventDefault(),t.openModal(e)}}},[t._v("刪除 ")])])])})),0)])]),a("pagination",{staticClass:"justify-content-center",attrs:{pages:t.pagination},on:{update:t.getFiles}}),a("Delfilemodal",{attrs:{"temp-storage":t.tempStorage},on:{update:t.getFiles}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("圖片")]),a("th",{attrs:{scope:"col"}},[t._v("刪除")])])])}],s=(a("99af"),a("5530")),i=a("1157"),l=a.n(i),c=a("1799"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal",attrs:{id:"delFileModal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticStyle:{height:"100px",width:"100px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+t.tempStorage.path+")"}}),t._v(" 是否刪除圖片(刪除後將無法恢復)。 ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.delFile(e)}}},[t._v(" 確認刪除 ")])])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("刪除圖片")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],u={data:function(){return{}},props:{tempStorage:{type:Object,required:!0}},methods:{delFile:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/api/").concat("805a8755-d565-473e-90ee-9d24771ddf47","/admin/storage/").concat(this.tempStorage.id);this.$http.delete(e).then((function(e){l()("#delFileModal").modal("hide"),t.$emit("update")})).catch((function(t){l()("#delFileModal").modal("hide"),console.log(t)}))}}},p=u,h=a("2877"),g=Object(h["a"])(p,d,r,!1,null,null,null),m=g.exports,b={data:function(){return{storages:[],tempStorage:{},pagination:{}}},components:{Pagination:c["a"],Delfilemodal:m},created:function(){this.getFiles()},methods:{getFiles:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://course-ec-api.hexschool.io/api/").concat("805a8755-d565-473e-90ee-9d24771ddf47","/admin/storage?page=").concat(e);this.$http.get(a).then((function(e){console.log(e),t.storages=e.data.data,t.pagination=e.data.meta.pagination})).catch((function(t){console.log(t)}))},openModal:function(t){l()("#delFileModal").modal("show"),this.tempStorage=Object(s["a"])({},t)}}},v=b,f=Object(h["a"])(v,o,n,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d2223a4.78f87035.js.map